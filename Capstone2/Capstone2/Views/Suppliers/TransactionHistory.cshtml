@model IEnumerable<Capstone2.Models.ViewTransaction>
 
<link rel="stylesheet" href="~/css/modern-ui.css" />

<style>
    /* Desktop styles - keep original layout */
    .modern-bg {
        padding: 2rem;
    }

    .modern-header {
        flex-direction: row;
        align-items: center;
        gap: 1rem;
    }

    .modern-action-buttons {
        display: flex;
        flex-direction: row;
        gap: 0.5rem;
    }

    .modern-action-btn {
        width: auto;
        justify-content: center;
    }

    .modern-table {
        font-size: 0.9rem;
    }

    .modern-table th,
    .modern-table td {
        padding: 0.75rem 0.5rem;
    }

    .modern-table-actions {
        display: flex;
        flex-direction: row;
        gap: 0.5rem;
        align-items: center;
        justify-content: flex-end;
        min-width: 120px;
    }

    .modern-table-action-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        font-size: 0.85rem;
        font-weight: 500;
        text-decoration: none;
        transition: all 0.3s ease;
        min-width: 80px;
        white-space: nowrap;
    }

    .modern-table-action-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .modern-table-action-btn.btn-primary:hover {
        background: var(--primary-purple-dark);
        border-color: var(--primary-purple-dark);
    }

    .modern-search-form {
        display: flex;
        flex-direction: row;
        gap: 1rem;
        align-items: end;
    }

    .modern-search-form > div {
        width: auto;
    }

    /* Mobile responsive adjustments */
    @@media (max-width: 768px) {
        .modern-bg {
            padding: 0.5rem;
        }

        .modern-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 1rem;
            text-align: center;
        }

        .modern-action-buttons {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            width: 100%;
        }

        .modern-action-btn {
            width: 100%;
            justify-content: center;
        }

        .modern-title {
            font-size: 1.5rem;
        }

        .modern-subtitle {
            font-size: 0.9rem;
        }

        .modern-table {
            font-size: 0.8rem;
        }

        .modern-table th,
        .modern-table td {
            padding: 0.5rem 0.25rem;
        }

        .modern-table-actions {
            flex-direction: column;
            align-items: stretch;
            min-width: 100px;
        }

        .modern-table-action-btn {
            font-size: 0.75rem;
            padding: 0.4rem 0.8rem;
            min-width: 70px;
        }

        .modern-search-form {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .modern-search-form > div {
            width: 100%;
        }

        .modern-form-control {
            font-size: 16px;
        }
    }

    @@media (max-width: 576px) {
        .modern-bg {
            padding: 0.25rem;
        }

        .modern-table {
            font-size: 0.75rem;
        }

        .modern-table th,
        .modern-table td {
            padding: 0.4rem 0.2rem;
        }

        .modern-table-action-btn {
            font-size: 0.7rem;
            padding: 0.3rem 0.6rem;
            min-width: 60px;
        }

        .modern-title {
            font-size: 1.25rem;
        }

        .modern-subtitle {
            font-size: 0.8rem;
        }
    }
</style>

<div class="container-fluid modern-bg modern-compact">
     <!-- Header Section -->
     <div class="d-flex justify-content-between align-items-start mb-4">
         <div class="modern-header">
             <div class="modern-header-icon">
                 <i class="bi bi-clock-history"></i>
             </div>
             <div>
                 <h1 class="modern-title">Transaction History</h1>
                 <p class="modern-subtitle"><strong>@ViewBag.SupplierName</strong></p>
             </div>
         </div>
         <div class="modern-action-buttons">
             <a asp-action="ViewTransactions" asp-route-id="@ViewBag.SupplierId" class="modern-action-btn btn-outline-secondary">
                 <i class="bi bi-arrow-left"></i>Back
             </a>
         </div>
     </div>
 
     <!-- Filters -->
     <div class="modern-search-card">
         <form asp-action="TransactionHistory" method="get" class="modern-search-form">
             <input type="hidden" name="id" value="@ViewBag.SupplierId" />
             <div>
                 <label class="modern-form-label">From</label>
                 <input class="modern-form-control" type="date" name="from" value="@ViewBag.From" />
             </div>
             <div>
                 <label class="modern-form-label">To</label>
                 <input class="modern-form-control" type="date" name="to" value="@ViewBag.To" />
             </div>
             <div>
                 <button type="submit" class="modern-btn-search w-100">
                     <i class="bi bi-funnel"></i>Filter
                 </button>
             </div>
             <div>
                 <a asp-action="TransactionHistory" asp-route-id="@ViewBag.SupplierId" class="modern-action-btn btn-outline-secondary w-100">
                     <i class="bi bi-arrow-clockwise me-2"></i>Clear
                 </a>
             </div>
         </form>
     </div>
 
     <!-- Delivered Transactions Table -->
     <div class="modern-status-card">
         <div class="modern-status-card-header">
             <h5 class="modern-status-card-title">
                 <i class="bi bi-list-ul"></i>
                 Delivered Orders
             </h5>
         </div>
         <div class="modern-card-body">
             <div class="table-responsive">
                 <table class="modern-table">
                     <thead>
                         <tr>
                             <th>PO Number</th>
                             <th>Ordered Date</th>
                             <th>Status</th>
                             <th class="text-end">Action</th>
                         </tr>
                     </thead>
                     <tbody>
                         @foreach (var item in Model)
                         {
                             <tr>
                                 <td>
                                     <div class="modern-name">@(string.IsNullOrWhiteSpace(item.TransactionOrderNumber) ? "-" : item.TransactionOrderNumber)</div>
                                 </td>
                                 <td>
                                     <div class="modern-info">@item.OrderDate.ToString("MM/dd/yyyy")</div>
                                 </td>
                                 <td>
                                     <span class="modern-status-badge delivered">Delivered</span>
                                 </td>
                                 <td class="text-end">
                                     <div class="modern-table-actions">
                                        <a asp-action="PurchaseOrderHistory" asp-route-id="@ViewBag.SupplierId" asp-route-vtId="@item.ViewTransactionId" class="modern-table-action-btn btn-primary">
                                             <i class="bi bi-box"></i>
                                             <span>View PO</span>
                                         </a>
                                     </div>
                                 </td>
                             </tr>
                         }
                     </tbody>
                 </table>
             </div>
         </div>
     </div>
 </div>
 
 
